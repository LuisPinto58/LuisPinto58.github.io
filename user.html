<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="src/icon-192x192.png">
  <title>ESMADCONNECT</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="index.css">
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <!-- Top navbar-->
  <nav class="navbar fixed-top bg-body-tertiary d-flex topNav">
    <div class="container-fluid  justify-content-center">
      <img src="src\LOGO.svg" alt="ESMADCONNECT" height="36px">
    </div>
  </nav>
<!-- Unlogged user state-->
  <section id="notLogged" class="d-none">
    <div id="userLog">
      <a href="login.html"><button type="button" class="btn btn-outline-light" style="width: 100%;height: 48px;background-color: #d14124">Log In</button></a>
      <p>Log In to access extra features!</p>
    </div>
  </section>
<!-- logged user state-->
  <section id="Logged"  class="d-none">
    <!-- Main page-->
    <div id="main" style="margin-top: 120px; margin-bottom: 36px;">
      <div style="display: flex;justify-content: center;">
        <img src="src/user.svg" alt="pfp" width="180px" height="180px" style="border-radius: 50%;" id="pfp">
      </div>
  
      <div style="margin-top: 40px;margin-left: 20px; margin-right: 20px;">
        <h3 id="PItab"><img src="src/user.svg" width="28px" style="margin-right: 20px;">Personal information</h3>
        <br>
        <h3 id="Favtab"><i class="bi bi-star" alt="fav" width="28px" style="margin-right: 20px;"></i>Favorites</h3>
        <br><br>
        <div style="display: flex;justify-content: center;">
          <button type="button" class="btn btn-danger" style="width: 70%;height: 48px;" id="logOut">Log Out</button>
        </div>
    </div>
  </div>

  <!-- personal information page-->
  <div id="personalInfo" style="margin-top: 60px; margin-bottom: 36px;" class="d-none"> 
    <h1 style="margin-left: 20px;margin-top: 60px;" id="PIReturn"><i class="bi bi-arrow-left-circle"></i></h1>
    <div style="display: flex;justify-content: center;">
      <div class="image-upload">
        <label for="file-input">
          <img src="src/imageInput.png" alt="image input" width="140px" height="140px" style="border-radius: 50%;" id="pfpChange">
        </label>
        <input id="file-input" type="file" accept="image/*"/>
      </div>
    </div>
    <div style="display: flex;flex-wrap: nowrap;justify-content: center;">
    <div class="popup">
      <span class="popuptext" id="myPopup">Might take a while to view changes :D</span>
    </div>
    </div>
    <div style="margin-top: 40px;margin-left: 20px; margin-right: 20px;display: flex;flex-wrap: wrap;justify-content: center;">
      <button type="button" class="btn btn-outline-light" style="background-color:#24C9A3; width: 80%;margin-bottom: 24px;height: 60px;" data-bs-toggle="modal" data-bs-target="#preferencesModal">
        Change Preferences
      </button>
      <button type="button" class="btn btn-primary" style="width: 80%;background-color:#6224C9; height: 60px;" data-bs-toggle="modal" data-bs-target="#passwordModal">
        Change Password
      </button>
    </div>
      
      <!-- Preferences Modal -->
      <div class="modal fade" id="preferencesModal" tabindex="-1" aria-labelledby="preferencesModalTitle" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="preferencesModalTitle">Change Preferences</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="preferencesForm">
                <input type="checkbox" class="form-check-input" id="checkboxDesign" name="type" value="Design" />
                <label class="form-check-label" for="checkboxDesign">Design</label>
                <br><br>
                <input type="checkbox" class="form-check-input" id="checkboxMultimedia" name="type" value="Multimedia"/>
                <label class="form-check-label" for="checkboxMultimedia">Multimedia</label>
                <br><br>
                <input type="checkbox" class="form-check-input" id="checkboxTech" name="type" value="Tech" />
                <label class="form-check-label" for="checkboxTech" >Tech</label>
                <br><br>
                <input type="checkbox" class="form-check-input" id="checkboxGeneral" name="type" value="General" />
                <label class="form-check-label" for="checkboxGeneral">General</label>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Save changes</button>
            </form>
            </div>
          </div>
        </div>
      </div>
      <!-- Password Modal -->
      <div class="modal fade" id="passwordModal" tabindex="-1" aria-labelledby="passwordModaltitle" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="passwordModaltitle">Change Password</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="PasswordForm">
                <label for="InputPasswordNew" class="form-label">Enter New Password</label>
                <input type="password" class="form-control" id="InputPasswordNew" required>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="width: 40%;">Close</button>
              <button type="submit" class="btn btn-primary" style="width: 40%;">Save changes</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  <!-- Favorites page -->  
  <div id="favorites" style="margin-top: 60px; margin-bottom: 36px;" class="d-none">
    <div style="margin-bottom: 40px;" id="FavoritesReturn">
      <h1 style="margin-left: 20px;margin-top: 60px;"><i class="bi bi-arrow-left-circle" style="margin-right: 24px;"></i> Favorites</h1>
    </div>
    <!-- Favorited news -->
    <div class="container text-center">
      <div class="row" id="news">
        <div class="col-1  d-md-none d-flex align-items-center skeleton">
          <img src="src\circle.svg" alt="user" height="28px">
        </div>
        <div class="col-11 col-md-4 skeleton">
          <div class="card" style="max-width: 540px;">
            <div class="row g-0">
              <div class="col-5 General">
                <img
                  src="https://firebasestorage.googleapis.com/v0/b/projtest-2178c.appspot.com/o/news%20images%2Fgrey.jpg?alt=media&token=23cea584-44b6-4cf8-b2ab-8359e00aa5e6"
                  class="img-fluid rounded-start gradient">
              </div>
              <div class="col-7">
                <div class="card-body">
                  <h6 class="card-title">■■■■■■■■■■■■■■■■■■■■■■</h6>
                  <span class="card-text">■■■■■■■■■■■■</span>
                  <p class="card-text">■■■■■■■■■■■■■■■</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!--Favorite news modal-->
    <div class="modal fade" id="newsModal" tabindex="-1" aria-labelledby="newsModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header" style="height: 30px;">
            <button type="button" class="btn-close modalCloser" data-bs-dismiss="modal" aria-label="Close"
              id="newsModalCloseButton"></button>
          </div>
          <div class="modal-header" style="justify-content: center;">
            <img src="src/ESMADgray.png" alt="news image" id="newsImage" style="width: 90%;">
          </div>
  
          <div class="modal-body">
            <h2 id="newsTitle" class="modal-title">■■■■■■■■■■■■</h2>
            <h3 style="font-weight: bold;">Description:</h3>
            <div id="newsDescription" style="white-space:pre-line;">■■■■■■■■■■■■■■■■■■■■■■</div>
            <h4 style="font-weight: bold;">Room:</h4>
            <div id="newsRoom">■■■■■■■■■■■■■■■■■■■■■■</div>
            <h4 style="font-weight: bold;">Area:</h4>
            <div id="newsArea">■■■■■■■■■■■■■■■■■■■■■■</div>
            <h4 style="font-weight: bold;">Start date:</h4>
            <div id="newsStart">■■■■■■■</div>
            <h4 style="font-weight: bold;">End Date:</h4>
            <div id="newsEnd">■■■■■■■■■■■■■■■■■■■■■■</div>
          </div>
  
          <div class="modal-footer" style="justify-content: space-around;">

                  <button type="button" class="btn btn-secondary" style="background-color:#d14124;width: fit-content;"
                    id="newsBlock"><img src="src\mapIcon.svg" alt="map" height="24px"></button>

                    <div class="popup">
                      <span class="popuptext" id="myFavPopup"></span>
                      <button type="button" class="btn btn-secondary" style="background-color:#C9C224;width: fit-content;"
                        id="newsFav"><i class="bi bi-star" alt="fav" height="24px"></i></button>
                    </div>

                  <button type="button" class="btn btn-outline-dark" style="width: fit-content;" id="newsShare"><img
                      src="src/share.svg" alt="map" height="24px"></button>
          </div>
  
        </div>
      </div>
    </div>

  </div>
</section>


 
  <!-- Bottom navbar-->
  <nav class="navbar fixed-bottom bg-body-tertiary bottomNav">
    <div class="container-fluid  justify-content-evenly">
      <a href="user.html"><img src="src\useractive.svg" alt="user" height="40px" ></a>

      <a href="index.html"><img src="src\mapIcon.svg" alt="map" height="40px"></a>

      <a href="news.html"><img src="src\news.svg" alt="news" height="40px"></a>
    </div>
  </nav>


  <script type="module" src="user.js"></script>
</body>

</html>